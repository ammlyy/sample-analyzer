(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],f=0,d=[];f<o.length;f++)s=o[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"0589":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("ace4"),n("d3b7"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("20bf"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b");var a=n("d4ec"),r=n("bee2"),i=n("9ab4"),s=n("c1d8"),o=n("5eab"),c=n.n(o),l=n("88a2"),u=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"analyze",value:function(e){return new Promise((function(t,n){var a=new c.a,r=new l["a"](l["a"].HARMONY,e);a.postMessage(r),a.onmessage=function(e){r.isForMe(e.data)&&t(e.data.payload)}}))}},{key:"normalize",value:function(e){var t=Math.max.apply(e),n=Math.min.apply(e);return e.forEach((function(e){return e-n/(t-n)})),Float32Array.from(e)}}]),e}();u=i["a"]([Object(s["injectable"])()],u)},"117c":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("d3b7");var a,r=n("d4ec"),i=n("bee2"),s=n("9ab4"),o=n("c1d8"),c=n("173a"),l=n("eff8"),u=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"loadFromUrl",value:function(e){var t=this;return new Promise((function(n){fetch(e).then((function(e){e.arrayBuffer().then((function(e){t.context.context().decodeAudioData(e,(function(e){return n(e)}))}))}))}))}},{key:"loadFromFile",value:function(e){var t=this;return new Promise((function(n){var a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(){a.result?t.context.context().decodeAudioData(a.result,(function(e){return n(e)})):n(t.context.context().createBuffer(2,0,44100))}}))}}]),e}();s["a"]([Object(o["inject"])(c["a"].AudioContextProvider),s["c"]("design:type","function"===typeof(a="undefined"!==typeof l["AudioContextProvider"]&&l["AudioContextProvider"])?a:Object)],u.prototype,"context",void 0),u=s["a"]([Object(o["injectable"])()],u)},"173a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d3b7");var a={SpectralExtractor:Symbol.for("SpectralExtractor"),TimeExtractor:Symbol.for("TimeExtractor"),AudioContextProvider:Symbol.for("AudioContextProvider"),NoteFrequencyProvider:Symbol.for("NoteFrequencyProvider"),SampleLoader:Symbol.for("SampleLoader"),Store:Symbol.for("Store"),DrawToolkit:Symbol.for("DrawToolkit"),Quantizer:Symbol.for("Quantizer"),FFT:Symbol.for("FFT")}},"1cba":function(e,t,n){var a={"./inversify.development.config":"4cbf","./inversify.production.config":"fd69"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="1cba"},"248f":function(e,t,n){"use strict";var a=n("829a"),r=n.n(a);r.a},2792:function(e,t,n){e.exports=n.p+"media/drums.c8e6d8d0.wav"},"30e9":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n("d81d");var a=n("2909"),r=n("d4ec"),i=n("bee2"),s=n("9ab4"),o=n("c1d8"),c=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"lin",value:function(e,t){for(var n=Math.floor(e.length/t),r=[],i=0;i<t;i++){for(var s=n*i,o=0,c=0;c<n;c++)o+=Math.abs(e[s+c]);r.push(o/n)}var l=Math.max.apply(Math,Object(a["a"])(r));return r=r.map((function(e){return e*(1/l)})),r}}]),e}();c=s["a"]([Object(o["injectable"])()],c)},"321c":function(e,t,n){"use strict";var a=n("71c8"),r=n.n(a);r.a},"3d5c":function(e,t,n){"use strict";var a=n("453a"),r=n.n(a);r.a},"453a":function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},"4bc4":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n("d81d"),n("ace4"),n("d3b7"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("20bf"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var a,r,i,s,o=n("99de"),c=n("7e84"),l=n("262e"),u=n("d4ec"),f=n("bee2"),d=n("9ab4"),h=n("dba1"),p=n("c1d8"),v=n("173a"),b=n("d9c6"),m=n("8a78"),y=n("ef20"),g=n("0589"),j=function(){function e(){Object(u["a"])(this,e),this._sample=new h["a"](null),this._timeAnalisis=new h["a"](null),this.emptySampleEvent={status:!1,length:0,elapsed:0},this._playing=new h["a"](this.emptySampleEvent),this._skipped=new h["a"](null),this._polyAdded=new h["a"](null),this._spectralpeaks=new h["a"](null),this._hpcp=new h["a"](null),this._fft=new h["a"](null),this._loading=new h["a"](!0)}return Object(f["a"])(e,[{key:"sample",value:function(){return this._sample}},{key:"_channelData",value:function(e){for(var t=e.getChannelData(0),n=function(n){var a=e.getChannelData(n);t=t.map((function(t,n){return(t+a[n])/e.numberOfChannels}))},a=1;a<e.numberOfChannels;a++)n(a);return t}},{key:"channelData",value:function(){return this._sample.value?this._channelData(this._sample.value):Float32Array.from([0])}},{key:"timeAnalysis",value:function(){return this._timeAnalisis}},{key:"nextSample",value:function(e){var t=this;this._timeAnalisis.next(null),this._hpcp.next(null),this._spectralpeaks.next(null),this._fft.next(null),this._sample.next(e);var n=this._channelData(e);this.fft.of(n).then((function(a){var r=a.full.map((function(t,n){return{magnitude:t,frequency:n*(e.sampleRate/2/a.full.length)}}));t._fft.next(r),t.spectralExtractor.analyze(a.subsampled).then((function(e){t._spectralpeaks.next(e.peaks.frequencies),t._hpcp.next(e.hpcp),t.extractor.analyze(n).then((function(e){t._timeAnalisis.next(e),t._loading.next(!1)}))}))}))}},{key:"playing",value:function(){return this._playing}},{key:"resetPlayEvent",value:function(){this._playing.next(this.emptySampleEvent)}},{key:"nextPlayEvent",value:function(e){this._playing.next(e)}},{key:"skipped",value:function(){return this._skipped}},{key:"nextSkipped",value:function(e){this._skipped.next(e)}},{key:"sampleExamples",value:function(){return[{name:"cello",url:n("b212")},{name:"drums",url:n("2792")},{name:"rhodes",url:n("c825")},{name:"amen-break",url:n("5e5d")}]}},{key:"getPolyLine",value:function(){return this._polyAdded}},{key:"addPolyLine",value:function(e){this._polyAdded.next(e)}},{key:"getSpectralPeaks",value:function(){return this._spectralpeaks}},{key:"getHCPC",value:function(){return this._hpcp}},{key:"getFFT",value:function(){return this._fft}},{key:"setLoading",value:function(){this._loading.next(!0)}},{key:"loading",value:function(){return this._loading}}]),e}();d["a"]([Object(p["inject"])(v["a"].SpectralExtractor),d["c"]("design:type","function"===typeof(a="undefined"!==typeof g["a"]&&g["a"])?a:Object)],j.prototype,"spectralExtractor",void 0),d["a"]([Object(p["inject"])(v["a"].TimeExtractor),d["c"]("design:type","function"===typeof(r="undefined"!==typeof m["TimeExtractor"]&&m["TimeExtractor"])?r:Object)],j.prototype,"extractor",void 0),d["a"]([Object(p["inject"])(v["a"].FFT),d["c"]("design:type","function"===typeof(i="undefined"!==typeof y["FFT"]&&y["FFT"])?i:Object)],j.prototype,"fft",void 0),j=d["a"]([Object(p["injectable"])()],j);var w=function(e){function t(){var e;Object(u["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).call(this));var a=n("b212");n("2792"),n("c825"),n("5e5d");return e.sampleLoader.loadFromUrl(a).then((function(t){e.nextSample(t)})),e}return Object(l["a"])(t,e),t}(j);d["a"]([Object(p["inject"])(v["a"].SampleLoader),d["c"]("design:type","function"===typeof(s="undefined"!==typeof b["SampleLoaderService"]&&b["SampleLoaderService"])?s:Object)],w.prototype,"sampleLoader",void 0),w=d["a"]([Object(p["injectable"])(),d["c"]("design:paramtypes",[])],w)},"4cbf":function(e,t,n){"use strict";n.r(t);var a=n("173a"),r=n("c1d8"),i=n("eff8"),s=n("117c"),o=n("4bc4"),c=n("e6de"),l=n("f097"),u=n("30e9"),f=n("ef20"),d=n("56f3"),h=n("0589");t["default"]=function(){r["container"].addSingleton(h["a"],a["a"].SpectralExtractor),r["container"].addSingleton(d["a"],a["a"].TimeExtractor),r["container"].addSingleton(i["b"],a["a"].AudioContextProvider),r["container"].addSingleton(l["b"],a["a"].NoteFrequencyProvider),r["container"].addSingleton(s["a"],a["a"].SampleLoader),r["container"].addSingleton(o["a"],a["a"].Store),r["container"].addSingleton(c["b"],a["a"].DrawToolkit),r["container"].addSingleton(u["b"],a["a"].Quantizer),r["container"].addSingleton(f["b"],a["a"].FFT)}},"56f3":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("a630"),n("ace4"),n("d3b7"),n("3ca3"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("20bf"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b");var a=n("d4ec"),r=n("bee2"),i=n("9ab4"),s=n("c1d8"),o=n("5eab"),c=n.n(o),l=n("88a2"),u=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"analyze",value:function(e){var t=this;return new Promise((function(n,a){var r=new c.a,i=new l["a"](l["a"].RHYTHM,t.normalize(Array.from(e)));r.postMessage(i),r.onmessage=function(e){if(i.isForMe(e.data)){var t=Array.from(e.data.payload);n({start:0,end:3,peaks:t,envelope:[],attackSlope:2,decaySlope:.3})}}}))}},{key:"normalize",value:function(e){var t=Math.max.apply(e),n=Math.min.apply(e);return e.forEach((function(e){return e-n/(t-n)})),Float32Array.from(e)}}]),e}();u=i["a"]([Object(s["injectable"])()],u)},"5e5d":function(e,t,n){e.exports=n.p+"media/amen.a6af8d25.wav"},"5eab":function(e,t,n){e.exports=function(){return new Worker(n.p+"c5edcd184f60b5cd30c3.worker.js")}},"71c8":function(e,t,n){},"829a":function(e,t,n){},"85ec":function(e,t,n){},"88a2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7"),n("25f0");var a=n("d4ec"),r=n("bee2"),i=function(){function e(t,n){Object(a["a"])(this,e),this.ID="_"+Math.random().toString(36).substr(2,9),this.type=t,this.payload=n}return Object(r["a"])(e,[{key:"setID",value:function(e){this.ID=e}},{key:"reply",value:function(t){var n=new e(this.type,t);return n.setID(this.ID),n}},{key:"isForMe",value:function(e){return!!e.ID&&e.ID===this.ID}}],[{key:"fromData",value:function(t){var n=new e(t.type,t.payload);return n.setID(t.ID),n}}]),e}();i.SPECTRUM="spectrum",i.RHYTHM="rhythm",i.HARMONY="harmony"},"8a78":function(e,t){},b212:function(e,t,n){e.exports=n.p+"media/cello.170fe634.wav"},c75f:function(e,t,n){"use strict";var a="production";n("1cba")("./inversify.".concat(a,".config")).default()},c825:function(e,t,n){e.exports=n.p+"media/rhodes.194f135b.wav"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("98db");var a,r,i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("loading",{attrs:{active:e.isLoading,"can-cancel":!1,"is-full-page":!0},on:{"update:active":function(t){e.isLoading=t}}}),n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("SampleLoader")],1),n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("Sample analyzer")])],1),n("v-content",[n("v-tabs",{attrs:{centered:"",grow:""}},[n("v-tabs-slider",{attrs:{color:"#1976D2"}}),e._l(e.tabs,(function(t){return n("v-tab",{key:t,on:{click:function(n){e.currentTab=t}}},[e._v(" "+e._s(t)+" ")])})),n("v-tab-item",[n("HarmonicStructure")],1),n("v-tab-item",[n("RhythmicStructure")],1)],2)],1),n("v-footer",{attrs:{app:""}},[n("span",[e._v("© 2020")])])],1)},o=[],c=n("d4ec"),l=n("bee2"),u=n("99de"),f=n("7e84"),d=n("262e"),h=n("9ab4"),p=n("60a3"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}},[e._v("mdi-twitter")]),n("span",{staticClass:"title font-weight-light"},[e._v("Sample loader")])],1),n("v-card-text",[n("v-file-input",{attrs:{label:"File input"},on:{change:e.load}}),n("v-list",[n("v-subheader",[e._v("EXAMPLES")]),n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.examples,(function(t,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.selectSample(t)}}})],1)],1)})),1)],1)],1)],1)},b=[],m=n("173a"),y=n("c1d8"),g=n("d9c6"),j=n("4bc4"),w=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.examples=e.store.sampleExamples(),e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"selectSample",value:function(e){var t=this;this.store.setLoading(),this.sampleLoader.loadFromUrl(e.url).then((function(e){t.store.nextSample(e)}))}},{key:"load",value:function(e){var t=this;this.store.setLoading(),this.sampleLoader.loadFromFile(e).then((function(e){t.store.nextSample(e)}))}}]),t}(i["default"]);h["a"]([Object(y["inject"])(m["a"].SampleLoader),h["c"]("design:type","function"===typeof(a="undefined"!==typeof g["SampleLoaderService"]&&g["SampleLoaderService"])?a:Object)],w.prototype,"sampleLoader",void 0),h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(r="undefined"!==typeof j["Store"]&&j["Store"])?r:Object)],w.prototype,"store",void 0),w=h["a"]([p["a"]],w);var k=w,x=k,O=n("2877"),S=Object(O["a"])(x,v,b,!1,null,"5888c48c",null),C=S.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("SpectrumPresenter")],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("HPCPPresenter")],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("OvertonesPresenter")],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("VoicingsPresenter")],1)],1)},E=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mb-5 center"},[n("h2",[e._v("Spectrum")]),n("div",{ref:"wrapper-spectrum",staticClass:"wrapper",on:{mouseover:function(t){e.hover=!0},mouseleave:e.hide}},[n("canvas",{ref:"hover",staticClass:"spectrum"}),n("canvas",{ref:"spectrum",staticClass:"spectrum"})]),n("div",[n("v-radio-group",{attrs:{row:""},on:{change:function(t){return e.drawSpectrum()}},model:{value:e.log,callback:function(t){e.log=t},expression:"log"}},[n("v-radio",{attrs:{label:"Log",value:!0}}),n("v-radio",{attrs:{label:"Lin",value:!1}})],1)],1),n("div",[n("v-range-slider",{staticClass:"align-center",attrs:{max:e.maxFreq,min:e.minFreq,"hide-details":""},on:{change:function(t){return e.drawSpectrum()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.freqRange[0],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){return e.$set(e.freqRange,0,t)}}})]},proxy:!0},{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.freqRange[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){return e.$set(e.freqRange,1,t)}}})]},proxy:!0}]),model:{value:e.freqRange,callback:function(t){e.freqRange=t},expression:"freqRange"}})],1)])],1)],1)},F=[],P=(n("4de4"),n("c740"),n("b680"),n("d3b7"),n("25f0"),n("159b"),n("e6de")),A=function(){function e(t,n,a,r,i){Object(c["a"])(this,e),this.freq=t,this.amplitude=n,this.xpos=a,this.ypos=r,this.visible=i}return Object(l["a"])(e,[{key:"draw",value:function(e,t){this.visible&&(e.font="10px verdana",this.xpos+50<=t.width?e.fillText(this.freq,this.xpos,this.ypos+35):e.fillText(this.freq,this.xpos-50,this.ypos+35))}}]),e}(),L=(n("d81d"),n("6b93"),n("2909"));function M(e,t,n){var a=e,r=-(Math.log(t/n)/Math.log(a)*a+a);while(a+r-e<0&&a<1e4)a+=10,r=-(Math.log(t/n)/Math.log(a)*a+a);return{width:a,offset:r}}var q,R,B,D,H,z=function(){function e(t,n,a){Object(c["a"])(this,e),this.log=!0,this.min=40,this.spectrum=t,this.min=n,this.log=a}return Object(l["a"])(e,[{key:"draw",value:function(e,t){var n=this;e.translate(0,t.height-20);var a=Math.max.apply(Math,Object(L["a"])(this.spectrum.map((function(e){return e.magnitude})))),r=Math.min.apply(Math,Object(L["a"])(this.spectrum.map((function(e){return e.magnitude})))),i=10,s=1,o=this.spectrum.map((function(e){return e.magnitude})).map((function(e){return(e-r)*(i-s)/(a-r)+s})),c=t.width,l=t.height,u=-5,f=this.spectrum.length,d=0,h=-1e3;if(this.log){var p=this.spectrum.findIndex((function(e){return e.frequency>n.min}));d=p;var v=M(t.width,d,f);h=v.offset,c=v.width}for(var b=d;b<f;b++){var m=0;m=this.log?c+h+Math.log(b/f)/Math.log(c)*c:b/f*c;var y=Math.log10(o[b])*l-u;e.lineWidth=.5,e.strokeStyle="#034efc",e.beginPath(),e.moveTo(m,0),e.lineTo(m,-y),e.stroke()}e.translate(0,-(t.height-20))}}]),e}(),N=function(){function e(t,n,a,r,i,s){Object(c["a"])(this,e),this.log=!0,this.min=40,this.textFreq=t,this.graphicFreq=n,this.q=a,this.max=r,this.min=i,this.log=s}return Object(l["a"])(e,[{key:"draw",value:function(e,t){var n=this;e.translate(0,t.offsetHeight-20),e.lineWidth=1,e.beginPath(),e.moveTo(0,0),e.lineTo(t.width-1,0),e.stroke(),e.moveTo(0,0),e.lineTo(1,1-t.offsetHeight),e.stroke();for(var a=function(a){if(n.graphicFreq[a]<n.max&&n.graphicFreq[a]>=n.min){var r=t.width,i=Math.min.apply(Math,Object(L["a"])(n.q.map((function(e){return Math.abs(e.frequency-n.graphicFreq[a])})))),s=n.q.findIndex((function(e){return e.frequency+i===n.graphicFreq[a]||e.frequency-i===n.graphicFreq[a]})),o=0;if(n.log){var c=n.q.findIndex((function(e){return e.frequency>n.min})),l=M(t.offsetWidth,c,n.q.length);o=l.width+l.offset+Math.log(s/n.q.length)/Math.log(l.width)*l.width}else o=Math.floor(s/n.q.length*r);e.lineWidth=3,e.strokeStyle="black",e.beginPath(),e.moveTo(o,-4),e.lineTo(o,4),e.stroke(),e.lineWidth=.5,e.font="8px verdana",e.strokeText(n.textFreq[a],o-5,15)}},r=0;r<this.graphicFreq.length;r++)a(r);e.translate(0,-(t.offsetHeight-20))}}]),e}(),V=function(){function e(t,n,a,r,i,s){Object(c["a"])(this,e),this.color=t,this.width=n,this.x=a,this.visible=r,this.log=!1,i&&s&&(this.log=!0,this.start=i,this.length=s)}return Object(l["a"])(e,[{key:"draw",value:function(e){if(this.visible){e.strokeStyle=this.color,e.lineWidth=this.width,e.beginPath();var t=Math.floor(e.canvas.width*this.x);if(this.log){var n=M(e.canvas.width,this.start,this.length);t=n.width+n.offset+Math.log(this.x)/Math.log(n.width)*n.width}e.moveTo(t,0),e.lineTo(t,e.canvas.offsetHeight),e.stroke()}}}]),e}(),G=n("34a6"),I=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.graphicFreq=[100,1e3,1e4],e.textFreq=["100","1k","10k"],e.hover=!0,e.sampleON=!1,e.minFreq=20,e.maxFreq=2e4,e.freqRange=[40,1e4],e.log=!0,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this;this.mainPanel=this.drawtoolkit.setUp(this.canvasspec,1),this.infoPanel=this.drawtoolkit.setUp(this.canvashov,.5),this.mouseHandler(),this.store.sample().subscribe((function(t){t&&(e.mainPanel.reset(),e.infoPanel.reset(),e.maxFreq=t.sampleRate/2,e.freqRange=[40,e.maxFreq],e.sample=t,e.store.getFFT().pipe(Object(G["a"])((function(e){return null!=e}))).subscribe((function(t){t&&(e.originalFFT=t,e.store.getSpectralPeaks().pipe(Object(G["a"])((function(e){return null!=e}))).subscribe((function(t){t&&(e.spectralPeaks=t,e.drawSpectrum())})))})))}))}},{key:"drawSpectrum",value:function(){var e=this;this.mainPanel.reset(),this.infoPanel.reset(),this.freqBox=new A("","",0,0,!1),this.infoPanel.add(this.freqBox),this.filteredFFT=this.originalFFT.filter((function(t){return t.frequency<e.freqRange[1]})),this.log||(this.filteredFFT=this.filteredFFT.filter((function(t){return t.frequency>e.freqRange[0]})));var t=new z(this.filteredFFT,this.freqRange[0],this.log);this.mainPanel.add(t);var n=new N(this.textFreq,this.graphicFreq,this.filteredFFT,this.freqRange[1],this.freqRange[0],this.log);this.mainPanel.add(n),this.mainPanel.redraw(),this.spectralPeaks.forEach((function(t){var n=e.filteredFFT.findIndex((function(t){return t.frequency>e.freqRange[0]})),a=e.filteredFFT.findIndex((function(e){return e.frequency>t})),r=a/e.filteredFFT.length;if(e.log){var i=new V("red",2,r,!0,n,e.filteredFFT.length);e.infoPanel.add(i)}else{var s=new V("red",2,r,!0);e.infoPanel.add(s)}e.sampleON=!0})),this.infoPanel.redraw()}},{key:"mouseHandler",value:function(){this.wrapperSpectrum&&this.wrapperSpectrum.addEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){var t=this;if(this.freqBox&&this.hover&&this.sampleON){if(this.freqBox.xpos=e.offsetX*this.canvashov.width/this.canvashov.offsetWidth,this.freqBox.ypos=e.offsetY,this.freqBox.visible=!0,this.log){var n=this.filteredFFT.findIndex((function(e){return e.frequency>t.freqRange[0]})),a=M(this.canvashov.width,n,this.filteredFFT.length),r=Math.exp((this.freqBox.xpos-a.width-a.offset)*Math.log(a.width)/a.width)*this.freqRange[1];this.freqBox.freq=r.toFixed(2).toString()+" Hz"}else{var i=e.offsetX/this.canvashov.offsetWidth*(this.freqRange[1]-this.freqRange[0])+this.freqRange[0];this.freqBox.freq=i.toFixed(2).toString()+" Hz"}this.infoPanel.redraw()}}},{key:"hide",value:function(){this.freqBox&&(this.freqBox.visible=!1,this.infoPanel.redraw())}}]),t}(i["default"]);h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(q="undefined"!==typeof j["Store"]&&j["Store"])?q:Object)],I.prototype,"store",void 0),h["a"]([Object(y["inject"])(m["a"].DrawToolkit),h["c"]("design:type","function"===typeof(R="undefined"!==typeof P["DrawToolkit"]&&P["DrawToolkit"])?R:Object)],I.prototype,"drawtoolkit",void 0),h["a"]([Object(p["c"])("spectrum"),h["c"]("design:type","function"===typeof(B="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement)?B:Object)],I.prototype,"canvasspec",void 0),h["a"]([Object(p["c"])("wrapper-spectrum"),h["c"]("design:type","function"===typeof(D="undefined"!==typeof HTMLDivElement&&HTMLDivElement)?D:Object)],I.prototype,"wrapperSpectrum",void 0),h["a"]([Object(p["c"])("hover"),h["c"]("design:type","function"===typeof(H="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement)?H:Object)],I.prototype,"canvashov",void 0),I=h["a"]([p["a"]],I);var U,$,W,Y,Q=I,X=Q,J=(n("248f"),Object(O["a"])(X,_,F,!1,null,"c870f494",null)),Z=J.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mb-5 center"},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:"",color:"orange darken-2"}},[e._v("fab fa-itunes-note")]),n("span",{staticClass:"title font-weight-light"},[e._v("Overtones presenter")])],1),n("v-card-text",[e._v("This is going to draw a pentagram with the overtones of the sound loaded.")]),n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{ref:"scoreh",staticStyle:{"background-color":"white"}})])],1)],1)],1)},ee=[],te=n("05de"),ne=n("f097"),ae=n("0589"),re=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this;this.renderer=new te["Flow"].Renderer(this.score,te["Flow"].Renderer.Backends.SVG),this.renderer.resize(662,350),this.freshSVG(),this.store.getSpectralPeaks().subscribe((function(t){t&&(e.ctx.clear(),e.freshSVG(),e.notes=[],e.notes=t.map((function(t){return e.notemgt.freqToNote(t)})),e.drawTones(e.ctx))}))}},{key:"drawTones",value:function(e){var t=this,n=[],a=[],r=[];this.notes.forEach((function(e){var i=e.substring(e.length-1),s=e.substring(0,e.length-1),o=t.clefS(i),c=(t.clefRef(i),new te["Flow"].StaveNote({clef:o,keys:[s+"/"+i],duration:"q"}));switch(o){case"alto":r.push(c);break;case"treble":a.push(c);break;default:n.push(c)}}));var i=new te["Flow"].Voice({num_beats:4,beat_value:4}).setMode(2).addTickables(n),s=new te["Flow"].Voice({num_beats:4,beat_value:4}).setMode(2).addTickables(a),o=new te["Flow"].Voice({num_beats:4,beat_value:4}).setMode(2).addTickables(r);(new te["Flow"].Formatter).format([i,s,o],200);i.draw(e,this.BASS),s.draw(e,this.TREBLE),o.draw(e,this.ALTO)}},{key:"clefS",value:function(e){switch(e){case"5":case"6":return"treble";case"4":case"3":return"alto";default:return"bass"}}},{key:"clefRef",value:function(e){switch(e){case"5":case"6":return this.TREBLE;case"4":case"3":return this.ALTO;default:return this.BASS}}},{key:"freshSVG",value:function(){return this.ctx=this.renderer.getContext(),this.TREBLE=new te["Flow"].Stave(10,40,650),this.TREBLE.addClef("treble"),this.TREBLE.setContext(this.ctx).draw(),this.ALTO=new te["Flow"].Stave(10,120,650),this.ALTO.addClef("alto"),this.ALTO.setContext(this.ctx).draw(),this.BASS=new te["Flow"].Stave(10,200,650),this.BASS.addClef("bass"),this.BASS.setContext(this.ctx).draw(),this.renderer.getContext()}}]),t}(i["default"]);h["a"]([Object(p["c"])("scoreh"),h["c"]("design:type","function"===typeof(U="undefined"!==typeof HTMLDivElement&&HTMLDivElement)?U:Object)],re.prototype,"score",void 0),h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof($="undefined"!==typeof j["Store"]&&j["Store"])?$:Object)],re.prototype,"store",void 0),h["a"]([Object(y["inject"])(m["a"].NoteFrequencyProvider),h["c"]("design:type","function"===typeof(W="undefined"!==typeof ne["NoteFrequencyProvider"]&&ne["NoteFrequencyProvider"])?W:Object)],re.prototype,"notemgt",void 0),h["a"]([Object(y["inject"])(m["a"].SpectralExtractor),h["c"]("design:type","function"===typeof(Y="undefined"!==typeof ae["a"]&&ae["a"])?Y:Object)],re.prototype,"spectralExtractor",void 0),re=h["a"]([p["a"]],re);var ie,se,oe=re,ce=oe,le=Object(O["a"])(ce,K,ee,!1,null,null,null),ue=le.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mb-5 center"},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}}),n("span",{staticClass:"title font-weight-light"},[e._v("Suggested voicing")])],1),n("v-card-text",[e._v(" Suggested voicing for specific sound loaded "),n("ul",e._l(e.voicings,(function(t,a){return n("li",{key:a},[e._v(e._s(t.group)+" - "+e._s(t.name)+" - "+e._s(t.chord))])})),0)]),n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{ref:"scorevoice",staticStyle:{"background-color":"white"}})])],1)],1)],1)},de=[],he=(n("fb6a"),n("4e82"),function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.voicings=[],e.rhRender=[],e.lhRender=[],e.CENTRAL_NOTE=0,e.DEFAULT_OCTAVE=4,e.SCALE=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],e.definitions=[{group:"min7",chord:[0,3,10],name:"1 - b3 - b7 (no fifth)"},{group:"min7",chord:[-9,-2,0],name:"1st inversion (b3 as bass)"},{group:"min7",chord:[-5,0,3,10],name:"2nd inversion (5th as bass)"},{group:"min7",chord:[-2,0,3],name:"3rd inversion (7th as bass)"},{group:"maj7",chord:[0,4,10],name:"1 - 3 - 7 (no fifth)"},{group:"maj7",chord:[-8,-1,0],name:"1st inversion (3 as bass)"},{group:"maj7",chord:[-5,0,4,11],name:" 2nd inversion (5th as bass)"},{group:"maj7",chord:[-1,0,4],name:"3rd inversion (7th as bass)"},{group:"dom7",chord:[0,4,10],name:"1 - 3 - b7 (no fifth)"},{group:"dom7",chord:[-8,-2,0],name:"1st inversion (3 as bass)"},{group:"dom7",chord:[-5,0,4,10],name:"2nd inversion (5th as bass)"},{group:"dom7",chord:[-2,0,4],name:"3rd inversion (7th as bass)"}],e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this;this.renderer=new te["Flow"].Renderer(this.scorev,te["Flow"].Renderer.Backends.SVG),this.renderer.resize(630,350),this.freshSVG(),this.store.getHCPC().subscribe((function(t){if(t){e.ctx.clear(),e.freshSVG(),e.voicings=[],e.rhRender=[],e.lhRender=[];var n=t.reduce((function(e,t,n,a){return t>a[e]?n:e}),0),a=e.definitions.map((function(e){return{chord:e,score:e.chord.map((function(e){return t[(e+12+n)%12]})).reduce((function(e,t){return e+t}))}})).sort((function(e,t){return t.score-e.score})).slice(0,3);e.voicings=a.map((function(e){return e.chord})),e.createChords(),e.drawChords()}}))}},{key:"toNote",value:function(e){var t=e+this.CENTRAL_NOTE;return t<0?this.SCALE[ve(t,12)]+"/"+(this.DEFAULT_OCTAVE-1).toString():t>=12?this.SCALE[ve(t,12)]+"/"+(this.DEFAULT_OCTAVE+1).toString():this.SCALE[ve(t,12)]+"/"+this.DEFAULT_OCTAVE.toString()}},{key:"hasModifier",value:function(e){var t=e+this.CENTRAL_NOTE;return this.SCALE[ve(t,12)].length>1}},{key:"createChords",value:function(){var e=this,t=this.voicings.map((function(e){return e.chord}));t.forEach((function(t){var n=[];t.forEach((function(t){n.push(e.toNote(t))}));var a=t.map(e.hasModifier),r=new te["Flow"].StaveNote({clef:"treble",keys:Object(L["a"])(n.slice(1)),duration:"1"});a.slice(1).forEach((function(e,t){if(e)return r.addAccidental(t,new te["Flow"].Accidental("#"))}));e.rhRender.push(r),e.lhRender.push(new te["Flow"].StaveNote({clef:"bass",keys:[n[0]],duration:"1"}))}))}},{key:"drawChords",value:function(){var e=new te["Flow"].Voice({num_beats:4,beat_value:4}).setMode(2);e.addTickables(this.rhRender);var t=new te["Flow"].Voice({num_beats:4,beat_value:4}).setMode(2);t.addTickables(this.lhRender);(new te["Flow"].Formatter).joinVoices([e]).format([e,t],400);t.draw(this.ctx,this.BASS),e.draw(this.ctx,this.TREBLE)}},{key:"freshSVG",value:function(){return this.ctx=this.renderer.getContext(),this.TREBLE=new te["Flow"].Stave(25,0,600),this.TREBLE.addClef("treble"),this.TREBLE.setContext(this.ctx).draw(),this.BASS=new te["Flow"].Stave(25,120,600),this.BASS.addClef("bass"),this.BASS.setContext(this.ctx).draw(),new te["Flow"].StaveConnector(this.TREBLE,this.BASS).setType(3).setContext(this.ctx).draw(),new te["Flow"].StaveConnector(this.TREBLE,this.BASS).setType(1).setContext(this.ctx).draw(),new te["Flow"].StaveConnector(this.TREBLE,this.BASS).setType(6).setContext(this.ctx).draw(),this.renderer.getContext()}},{key:"redrawStave",value:function(){this.renderer.getContext().clear(),this.freshSVG(),this.rhRender=[],this.lhRender=[],this.createChords(),this.drawChords()}}]),t}(i["default"]));h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(ie="undefined"!==typeof j["Store"]&&j["Store"])?ie:Object)],he.prototype,"store",void 0),h["a"]([Object(p["c"])("scorevoice"),h["c"]("design:type","function"===typeof(se="undefined"!==typeof HTMLDivElement&&HTMLDivElement)?se:Object)],he.prototype,"scorev",void 0),he=h["a"]([p["a"]],he);var pe=he;function ve(e,t){return(e%t+t)%t}var be,me,ye=pe,ge=Object(O["a"])(ye,fe,de,!1,null,null,null),je=ge.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mb-5 center"},[n("h2",[e._v("HPCP")]),n("div",{staticClass:"chart"},[n("canvas",{ref:"chart",staticClass:"chart",attrs:{height:"285"}})])])],1)],1)},ke=[],xe=n("30ef"),Oe=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this,t=this.canvasChart.getContext("2d");t&&(this.chart=new xe["Chart"](t,{type:"bar",data:{labels:["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],datasets:[{label:"Note",data:[],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})),this.store.getHCPC().subscribe((function(t){e.chart&&e.chart.data.datasets&&(e.chart.data.datasets.forEach((function(e){e.data=t||[]})),e.chart.update())}))}}]),t}(i["default"]);h["a"]([Object(p["c"])("chart"),h["c"]("design:type","function"===typeof(be="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement)?be:Object)],Oe.prototype,"canvasChart",void 0),h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(me="undefined"!==typeof j["Store"]&&j["Store"])?me:Object)],Oe.prototype,"store",void 0),Oe=h["a"]([p["a"]],Oe);var Se=Oe,Ce=Se,Te=(n("321c"),Object(O["a"])(Ce,we,ke,!1,null,"1aef5a7a",null)),Ee=Te.exports,_e=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(i["default"]);_e=h["a"]([Object(p["a"])({components:{SpectrumPresenter:Z,OvertonesPresenter:ue,VoicingsPresenter:je,HPCPPresenter:Ee}})],_e);var Fe=_e,Pe=Fe,Ae=Object(O["a"])(Pe,T,E,!1,null,"8f97b172",null),Le=Ae.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("WaveformPresenter"),n("v-row",[n("SchemaPresenter")],1),n("v-row",[n("SignaturesPresenter")],1)],1)},qe=[],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mt-5 space-around"},[n("div",{ref:"canvas-wrapper",staticClass:"wrapper",on:{mouseover:function(t){e.hover=!0},mouseleave:e.hide,click:e.skip}},[n("canvas",{ref:"waveform",staticClass:"waveform"}),n("canvas",{ref:"waveformchild",staticClass:"waveform"})])])],1),n("v-row",{attrs:{align:"center",justify:"center"}},[n("AudioPlayer")],1)],1)},Be=[],De=(n("a630"),n("3ca3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-10"},[n("v-row",{staticClass:"col-12 py-0",attrs:{justify:"center"}},[n("v-slider",{attrs:{color:"#1976D2",label:(e.sampletime*e.samplelng/100).toFixed(3)+" : "+e.samplelng.toFixed(3)},on:{click:e.skip},model:{value:e.sampletime,callback:function(t){e.sampletime=t},expression:"sampletime"}})],1),n("v-row",{staticClass:"col-12 py-0",attrs:{"align-content":"center",justify:"center",dense:""}},[n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{text:"",icon:"",color:"#1976D2"},on:{click:function(t){e.playing?e.pause():e.play()}}},[!e.playing||e.paused?n("v-icon",{attrs:{"x-small":""}},[e._v("fas fa-play")]):n("v-icon",{attrs:{"x-small":""}},[e._v("fas fa-pause")])],1)],1),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{text:"",icon:"",color:"#1976D2"},on:{click:function(t){return e.mute()}}},[n("v-icon",{attrs:{"x-small":""}},[e._v("fas fa-volume-up")])],1)],1),n("v-col",{attrs:{cols:"2"}},[n("v-slider",{attrs:{dark:"",dense:"",color:"#1976D2",max:"1",min:"0",step:".1"},on:{change:e.changeVolume},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1),n("v-col",[n("Legend",{staticClass:"float-right"})],1)],1)],1)}),He=[],ze=n("eff8"),Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"blue",dark:""}},a),[e._v(" Legend ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v(" Legend ")]),n("v-card-text",[n("v-list-item",{attrs:{color:"blue"}},[n("v-icon",{staticClass:"fas fa-square-full",attrs:{color:"green"}}),n("v-list-item-title",[e._v(" Peaks ")]),n("v-icon",{staticClass:"fas fa-square-full",attrs:{color:"red"}}),n("v-list-item-title",[e._v(" Playing sample ")]),n("v-icon",{staticClass:"fas fa-square-full",attrs:{color:"yellow"}}),n("v-list-item-title",[e._v(" Polyrhythm ")])],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"yellow",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1)},Ve=[],Ge=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.dialog=!1,e}return Object(d["a"])(t,e),t}(i["default"]);Ge=h["a"]([p["a"]],Ge);var Ie,Ue,$e=Ge,We=$e,Ye=Object(O["a"])(We,Ne,Ve,!1,null,null,null),Qe=Ye.exports,Xe=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.playing=!1,e.paused=!0,e.volume=1,e.sampletime=0,e.ctx=e.ctxprovider.context(),e.source=e.ctx.createBufferSource(),e.rate=e.ctx.sampleRate,e.samplelng=0,e.startplayingtime=0,e.pausedAt=0,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this;this.store.skipped().subscribe((function(t){t&&(e.playing?(e.pause(),e.onEnd(),e.sampletime=t,e.pausedAt=e.samplelng*t/100,e.play()):(e.sampletime=t,e.pausedAt=e.samplelng*t/100,e.store.nextPlayEvent({status:!1,elapsed:e.pausedAt,length:e.samplelng})))}))}},{key:"newSample",value:function(e){e&&(this.playing&&this.pause(),this.sampletime=0,this.pausedAt=0,this.sample=e,this.restore(),this.samplelng=e.length/this.rate)}},{key:"created",value:function(){this.setup()}},{key:"onEnd",value:function(){this.playing=!1,clearInterval(this.interval),this.restore()}},{key:"play",value:function(){var e=this;this.paused=!1,this.playing=!0,this.startplayingtime=this.ctxprovider.context().currentTime,0===this.sampletime&&this.source.start(),this.sampletime>0&&this.source.start(0,this.pausedAt),this.interval=setInterval((function(){var t=e.ctxprovider.context().currentTime-e.startplayingtime+e.pausedAt;e.sampletime=Math.ceil(t/e.samplelng*100),e.store.nextPlayEvent({status:e.playing,length:e.samplelng,elapsed:t}),t>e.samplelng&&(e.onEnd(),e.pausedAt=0,e.sampletime=0,e.store.nextPlayEvent({status:!1,elapsed:0,length:e.samplelng}))}),50)}},{key:"pause",value:function(){clearInterval(this.interval),this.paused=!0,this.playing=!1,this.source.stop(),this.pausedAt=this.ctxprovider.context().currentTime-this.startplayingtime+this.pausedAt,this.store.nextPlayEvent({length:this.samplelng,status:!1,elapsed:this.pausedAt}),this.restore()}},{key:"mute",value:function(){0!==this.volume?(this.volume=0,this.gain.gain.setValueAtTime(this.volume,this.ctx.currentTime)):(this.volume=.25,this.gain.gain.setValueAtTime(this.volume,this.ctx.currentTime))}},{key:"changeVolume",value:function(){this.gain.gain.setValueAtTime(this.volume,this.ctx.currentTime)}},{key:"restore",value:function(){this.source=this.ctx.createBufferSource(),this.source.buffer=this.sample,this.source.connect(this.gain)}},{key:"setup",value:function(){this.gain=this.ctx.createGain(),this.gain.gain.setValueAtTime(this.volume,this.ctx.currentTime),this.store.sample().subscribe(this.newSample),this.source.connect(this.gain),this.gain.connect(this.ctx.destination)}},{key:"skip",value:function(){var e=this.sampletime;this.store.nextSkipped(e)}}]),t}(i["default"]);h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(Ie="undefined"!==typeof j["Store"]&&j["Store"])?Ie:Object)],Xe.prototype,"store",void 0),h["a"]([Object(y["inject"])(m["a"].AudioContextProvider),h["c"]("design:type","function"===typeof(Ue="undefined"!==typeof ze["AudioContextProvider"]&&ze["AudioContextProvider"])?Ue:Object)],Xe.prototype,"ctxprovider",void 0),Xe=h["a"]([Object(p["a"])({components:{Legend:Qe}})],Xe);var Je,Ze,Ke,et,tt,nt,at=Xe,rt=at,it=Object(O["a"])(rt,De,He,!1,null,null,null),st=it.exports,ot=function(){function e(t){Object(c["a"])(this,e),this.data=t}return Object(l["a"])(e,[{key:"draw",value:function(e,t){e.translate(0,t.height/2);for(var n=t.width/this.data.length,a=t.height,r=10,i=0;i<this.data.length;i++){var s=i*n,o=this.data[i]*(a/2)-r;this.strokeLine(e,s,o)}e.translate(0,-t.height/2)}},{key:"strokeLine",value:function(e,t,n){e.lineWidth=1,e.strokeStyle="#1976D2",e.beginPath(),e.moveTo(t,0),e.lineTo(t,-n),e.lineTo(t,n),e.stroke()}}]),e}(),ct=n("30e9"),lt=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.dialog=!1,e.GLOBALALPHA=.7,e.bars=800,e.previousblock=0,e.polyLines=0,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this;this.mainPanel=this.drawtoolkit.setUp(this.canvasdom,1),this.infoPanel=this.drawtoolkit.setUp(this.canvasalpha,this.GLOBALALPHA),this.mouseHandler(),this.store.sample().subscribe((function(t){if(e.mainPanel.reset(),t){var n=e.store.channelData();e.data=e.quantizer.lin(Array.from(n),e.bars);var a=new ot(e.data);e.mainPanel.add(a),e.mainPanel.redraw(),e.samplerate=t.sampleRate,e.inverseRatio=1/t.duration,e.store.timeAnalysis().subscribe((function(t){e.setUpInfoPanel(),t&&t.peaks.forEach((function(t){var n=t*e.inverseRatio,a=new V("green",2,n,!0);e.infoPanel.add(a)})),e.infoPanel.redraw()}))}})),this.store.playing().subscribe((function(t){e.playingCursor.x=t.elapsed/t.length,e.playingCursor.visible=!0,e.infoPanel.redraw()})),this.store.skipped().subscribe((function(t){t&&e.canvasalpha&&(e.playingCursor.visible=!0,e.playingCursor.x=t/100)})),this.store.getPolyLine().subscribe((function(t){t&&e.canvasalpha&&(e.polyLines+=t.length,t.forEach((function(t){var n=t*e.inverseRatio,a=new V("yellow",3,n,!0);e.infoPanel.add(a)})),e.infoPanel.redraw())})),this.$root.$on("clearpoly",(function(){if(e.polyLines>0)for(var t=0;t<=e.polyLines;t++)e.infoPanel.remove();e.polyLines=0,e.infoPanel.redraw()}))}},{key:"setUpInfoPanel",value:function(){this.infoPanel.reset(),this.playingCursor=new V("red",3,0,!1),this.mouseCursor=new V("orange",3,0,!1),this.infoPanel.add(this.playingCursor),this.infoPanel.add(this.mouseCursor)}},{key:"mouseHandler",value:function(){this.canvasWrapper&&this.canvasWrapper.addEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){this.hover&&(this.mouseCursor.x=e.offsetX/this.canvasalpha.offsetWidth,this.mouseCursor.visible=!0,this.infoPanel.redraw())}},{key:"hide",value:function(){this.mouseCursor.x=0,this.mouseCursor.visible=!1,this.infoPanel.redraw()}},{key:"skip",value:function(e){var t=Math.floor(e.offsetX/this.canvasalpha.offsetWidth*100);this.store.nextSkipped(t)}}]),t}(i["default"]);h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(Je="undefined"!==typeof j["Store"]&&j["Store"])?Je:Object)],lt.prototype,"store",void 0),h["a"]([Object(y["inject"])(m["a"].DrawToolkit),h["c"]("design:type","function"===typeof(Ze="undefined"!==typeof P["DrawToolkit"]&&P["DrawToolkit"])?Ze:Object)],lt.prototype,"drawtoolkit",void 0),h["a"]([Object(y["inject"])(m["a"].Quantizer),h["c"]("design:type","function"===typeof(Ke="undefined"!==typeof ct["Quantizer"]&&ct["Quantizer"])?Ke:Object)],lt.prototype,"quantizer",void 0),h["a"]([Object(p["c"])("waveform"),h["c"]("design:type","function"===typeof(et="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement)?et:Object)],lt.prototype,"canvasdom",void 0),h["a"]([Object(p["c"])("waveformchild"),h["c"]("design:type","function"===typeof(tt="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement)?tt:Object)],lt.prototype,"canvasalpha",void 0),h["a"]([Object(p["c"])("canvas-wrapper"),h["c"]("design:type","function"===typeof(nt="undefined"!==typeof HTMLDivElement&&HTMLDivElement)?nt:Object)],lt.prototype,"canvasWrapper",void 0),lt=h["a"]([Object(p["a"])({components:{AudioPlayer:st}})],lt);var ut,ft,dt=lt,ht=dt,pt=(n("3d5c"),Object(O["a"])(ht,Re,Be,!1,null,"9a54d75a",null)),vt=pt.exports,bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mt-5 space-around"},[n("v-card-title",[n("v-icon",{attrs:{large:"",left:""}}),n("span",{staticClass:"title font-weight-light"},[e._v("Rythmic schema")])],1),n("div",{ref:"score",staticStyle:{"background-color":"white",display:"none"}}),n("div",{staticClass:"mb-6 col-12 d-flex justify-space-around"},e._l(this.r1*this.r2,(function(t){return n("v-chip",{key:t,staticStyle:{color:"rgba(0,0,0,0)"},attrs:{color:e.colorMask(e.color1,e.mask1[t-1])}},[e._v("X")])})),1),n("div",{staticClass:"mb-6 col-12 d-flex justify-space-around"},e._l(this.r1*this.r2,(function(t){return n("v-chip",{key:t+10,attrs:{color:e.colorMask(e.color2,e.mask2[t-1])}},[e._v(" x")])})),1),n("v-card-text",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.r1,expression:"r1",modifiers:{number:!0}}],staticClass:"text-center",attrs:{placeholder:"?"},domProps:{value:e.r1},on:{input:function(t){t.target.composing||(e.r1=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" against :"),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.r2,expression:"r2",modifiers:{number:!0}}],staticClass:"text-center",attrs:{placeholder:"?"},domProps:{value:e.r2},on:{input:function(t){t.target.composing||(e.r2=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("v-btn",{on:{click:e.drawPoly,change:e.clearPoly}},[e._v(" Visualize possible polyrhythm ")]),n("v-btn",{on:{click:e.clearPoly,change:e.clearPoly}},[e._v(" Clear all ")])],1)],1)],1)],1)},mt=[],yt=n("e55d"),gt=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.r1=4,e.r2=3,e.peaks=[],e.notes=[],e.tuplets=[],e.mask1=[],e.mask2=[],e.color1="green",e.color2="yellow",e.POLYACTIVE=!1,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"mounted",value:function(){var e=this;this.createMask(),this.ctx=this.freshSVG(),this.store.timeAnalysis().subscribe((function(t){t&&(e.notes=[yt["b"]],e.ctx.clear(),e.renderer.getContext().clear(),e.peaks=t.peaks,e.peaks.forEach((function(){return e.notes.push(yt["b"])})),e.drawRhythm(e.renderer.getContext(),e.notes,10,e.r1.toString()))}))}},{key:"freshSVG",value:function(){var e=new te["Flow"].Renderer(this.score,te["Flow"].Renderer.Backends.SVG);return this.renderer=e,this.renderer.resize(1400,300),this.renderer.getContext()}},{key:"drawRhythm",value:function(e,t,n,a){var r=this,i=this.splitBars(t),s=400;i.forEach((function(t,o){0===o?r.drawBar(t,10,n,e,(function(e){return e.addClef("percussion").addTimeSignature(a+"/4")})):o===i.length-1?r.drawBar(t,o*s+10,n,e,(function(e){return e.setEndBarType(te["Flow"].Barline.type.END)})):r.drawBar(t,o*s+10,n,e)})),this.drawBar([],410,n,e)}},{key:"drawPoly",value:function(){if(this.r1%this.r2===0||this.r2%this.r1===0)return alert("This is not possible...");if(this.r1*this.r2>100)return alert("Tigran... is that you?");this.POLYACTIVE=!0,this.mask1=[],this.mask2=[],this.createMask();var e=this.peaks.length,t=this.peaks[this.r1-1],n=t/this.r2,a=0,r=[],i=this.peaks[1]-this.peaks[0];while(a*n<=i*e)r.push(a*n),a++;this.store.addPolyLine(r),this.drawRhythm(this.ctx,this.notes,120,this.r2.toString())}},{key:"splitBars",value:function(e){var t=[[]],n=0;return e.forEach((function(e){t[n].reduce((function(e,t){return e+(t.duration||0)}),0)>=1&&(n++,t.push([])),t[n].push(e)})),t}},{key:"toVexDuration",value:function(e){switch(e){case.25:return"4d";default:return""}}},{key:"drawBar",value:function(e,t,n,a){var r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s=new te["Flow"].Stave(t,n,400).setConfigForLines([!1,!1,!0,!1,!1].map((function(e){return{visible:e}})));i(s),s.setContext(a).draw();var o=e.map((function(e){return new te["Flow"].StaveNote({clef:"percussion",keys:["b/4/x2"],duration:r.toVexDuration(e.duration)})})),c=te["Flow"].Beam.generateBeams(o);te["Flow"].Formatter.FormatAndDraw(a,s,o),c.forEach((function(e){e.setContext(a).draw()}))}},{key:"clearPoly",value:function(){this.$root.$emit("clearpoly")}},{key:"createMask",value:function(){this.mask1=[],this.mask2=[];for(var e=this.r1*this.r2,t=0;t<e;t++)t%this.r2===0||0===t?this.mask1.push(!0):this.mask1.push(!1);for(var n=0;n<e;n++)n%this.r1===0||0===n?this.mask2.push(!0):this.mask2.push(!1);console.log(this.mask1),console.log(this.mask2)}},{key:"colorMask",value:function(e,t){return this.POLYACTIVE&&t?e:"grey"}},{key:"deactivatePoly",value:function(){this.POLYACTIVE=!1}}]),t}(i["default"]);h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(ut="undefined"!==typeof j["Store"]&&j["Store"])?ut:Object)],gt.prototype,"store",void 0),h["a"]([Object(p["c"])("score"),h["c"]("design:type","function"===typeof(ft="undefined"!==typeof HTMLDivElement&&HTMLDivElement)?ft:Object)],gt.prototype,"score",void 0),gt=h["a"]([p["a"]],gt);var jt,wt=gt,kt=wt,xt=Object(O["a"])(kt,bt,mt,!1,null,null,null),Ot=xt.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"col-12"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-card",{staticClass:"mx-auto col-10 mt-5 space-around"},[n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("BPM")]),n("th",{staticClass:"text-left"},[e._v("Swing")])])]),n("tbody",e._l(e.signatures,(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(t.bpm))]),n("td",[e._v(e._s(t.swing.toFixed(2)))])])})),0)]},proxy:!0}])})],1)],1)],1)},Ct=[],Tt=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.minBpm=40,e.maxBpm=320,e.swing=.05,e.peaks=[],e.signatures=[],e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"calculateSignatures",value:function(){var e=this;this.peaks.length>1&&function(){for(var t=e.peaks[0],n=function(n){var a=60/n,r=a*e.swing,i=e.peaks.map((function(e,n){return e-(t+n*a)})),s=Math.max.apply(Math,Object(L["a"])(i.map((function(e){return Math.abs(e)}))));s<r&&e.signatures.push({bpm:n,swing:s})},a=e.minBpm;a<e.maxBpm;a+=.5)n(a)}()}},{key:"created",value:function(){var e=this;this.store.timeAnalysis().subscribe((function(t){e.signatures=[],t&&(e.peaks=t.peaks,e.calculateSignatures())}))}}]),t}(i["default"]);h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(jt="undefined"!==typeof j["Store"]&&j["Store"])?jt:Object)],Tt.prototype,"store",void 0),Tt=h["a"]([p["a"]],Tt);var Et=Tt,_t=Et,Ft=Object(O["a"])(_t,St,Ct,!1,null,null,null),Pt=Ft.exports,At=function(e){function t(){return Object(c["a"])(this,t),Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(i["default"]);At=h["a"]([Object(p["a"])({components:{WaveformPresenter:vt,AudioPlayer:st,SchemaPresenter:Ot,SignaturesPresenter:Pt}})],At);var Lt,Mt=At,qt=Mt,Rt=Object(O["a"])(qt,Me,qe,!1,null,null,null),Bt=Rt.exports,Dt=n("9062"),Ht=n.n(Dt),zt=(n("e40d"),function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.drawer=!1,e.isLoading=!0,e}return Object(d["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){}},{key:"mounted",value:function(){var e=this;this.store.loading().subscribe((function(t){return e.isLoading=t}))}},{key:"data",value:function(){return{currentTab:"Harmony",tabs:["Harmony","Rhythm"]}}},{key:"computed",value:function(){}}]),t}(i["default"]));h["a"]([Object(y["inject"])(m["a"].Store),h["c"]("design:type","function"===typeof(Lt="undefined"!==typeof j["Store"]&&j["Store"])?Lt:Object)],zt.prototype,"store",void 0),h["a"]([Object(p["b"])(String),h["c"]("design:type",String)],zt.prototype,"source",void 0),zt=h["a"]([Object(p["a"])({components:{SampleLoader:C,HarmonicStructure:Le,RhythmicStructure:Bt,Loading:Ht.a}})],zt);var Nt=zt,Vt=Nt,Gt=(n("034f"),Object(O["a"])(Vt,s,o,!1,null,null,null)),It=Gt.exports,Ut=n("ce5b"),$t=n.n(Ut);n("bf40"),n("15f5");i["default"].use($t.a);var Wt=new $t.a({icons:{iconfont:"fa"}});n("c75f");i["default"].config.productionTip=!1,new i["default"]({vuetify:Wt,render:function(e){return e(It)}}).$mount("#app")},d9c6:function(e,t){},e55d:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("d4ec"),r=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],i=function e(t){Object(a["a"])(this,e),this.duration=.25,this.pause=!1,this.note=t},s={name:"B",octave:0,frequency:0},o=new i(s)},e6de:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n("159b");var a=n("d4ec"),r=n("bee2"),i=n("9ab4"),s=n("c1d8"),o=function(){function e(t){Object(a["a"])(this,e),this.elements=[],this.canvas=t}return Object(r["a"])(e,[{key:"redraw",value:function(){var e=this,t=this.canvas.getContext("2d");t&&(t.clearRect(0,0,this.canvas.width,this.canvas.height),this.elements.forEach((function(n){return n.draw(t,e.canvas)})))}},{key:"add",value:function(e){this.elements.push(e)}},{key:"remove",value:function(){this.elements.pop()}},{key:"reset",value:function(){this.elements=[]}}]),e}(),c=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"setUp",value:function(e,t){var n=e.getContext("2d");if(n){var a=window.devicePixelRatio||1;return e.width=e.offsetWidth*a,e.height=e.offsetHeight*a,n.scale(a,a),n.globalAlpha=t,new o(e)}throw new Error("Canvas not ready")}}]),e}();c=i["a"]([Object(s["injectable"])()],c)},ef20:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n("a630"),n("d3b7"),n("3ca3");var a=n("d4ec"),r=n("bee2"),i=n("9ab4"),s=n("c1d8"),o=n("5eab"),c=n.n(o),l=n("88a2"),u=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"of",value:function(e){return new Promise((function(t,n){var a=new c.a,r=new l["a"](l["a"].SPECTRUM,Array.from(e));a.postMessage(r),a.onmessage=function(e){r.isForMe(e.data)&&t(e.data.payload)}}))}}]),e}();u=i["a"]([Object(s["injectable"])()],u)},eff8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n("d4ec"),r=n("bee2"),i=n("9ab4"),s=n("c1d8"),o=function(){function e(){Object(a["a"])(this,e),this.audioContext=new AudioContext({sampleRate:44100})}return Object(r["a"])(e,[{key:"context",value:function(){return this.audioContext}}]),e}();o=i["a"]([Object(s["injectable"])()],o)},f097:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n("d3b7"),n("25f0");var a=n("d4ec"),r=n("bee2"),i=n("9ab4"),s=n("c1d8"),o=n("e55d"),c=function(){function e(){Object(a["a"])(this,e),this.f0=440,this.NOTE=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],this.minNote=-60,this.maxNote=65}return Object(r["a"])(e,[{key:"noteFrequency",value:function(e){return this.f0*Math.pow(2,e/12)}},{key:"freqToNote",value:function(e){var t=Math.floor(1200*Math.log(e/this.f0)/Math.log(2)),n=Math.floor(t/100);n%100>50&&n++;var a=n+48,r=Math.ceil(a/12),i=(a+1)%12;return this.NOTE[i]+r.toString()}},{key:"allNotes",value:function(){for(var e=[],t=this.minNote;t<this.maxNote;t++)e.push({frequency:this.noteFrequency(t),octave:Math.floor((t-3)/12)+5,name:o["a"][(120+t)%12]});return e}}]),e}();c=i["a"]([Object(s["injectable"])()],c)},fd69:function(e,t,n){"use strict";n.r(t);var a=n("173a"),r=n("c1d8"),i=n("eff8"),s=n("117c"),o=n("4bc4"),c=n("e6de"),l=n("f097"),u=n("30e9"),f=n("ef20"),d=n("56f3"),h=n("0589");t["default"]=function(){r["container"].addSingleton(h["a"],a["a"].SpectralExtractor),r["container"].addSingleton(d["a"],a["a"].TimeExtractor),r["container"].addSingleton(i["b"],a["a"].AudioContextProvider),r["container"].addSingleton(l["b"],a["a"].NoteFrequencyProvider),r["container"].addSingleton(s["a"],a["a"].SampleLoader),r["container"].addSingleton(o["a"],a["a"].Store),r["container"].addSingleton(c["b"],a["a"].DrawToolkit),r["container"].addSingleton(u["b"],a["a"].Quantizer),r["container"].addSingleton(f["b"],a["a"].FFT)}}});
//# sourceMappingURL=app.d8010e40.js.map